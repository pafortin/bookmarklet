javascript:(function() %7B%0A    %2F* CONFIGURATION *%2F%0A    const CONFIG %3D %7B%0A        minScrollTime%3A 200%2C    %0A        maxScrollTime%3A 600%2C    %0A        scrollStepMin%3A 150%2C    %0A        scrollStepMax%3A 400%2C    %0A        resultsTarget%3A 1000%2C %0A        nextPageWaitTime%3A 4000%2C %0A    %7D%3B%0A%0A    const wait %3D (ms) %3D> new Promise(resolve %3D> setTimeout(resolve%2C ms))%3B%0A    const random %3D (min%2C max) %3D> Math.floor(Math.random() * (max - min %2B 1)) %2B min%3B%0A%0A    %2F* UI MANAGER *%2F%0A    const UI %3D %7B%0A        box%3A null%2C%0A        init() %7B%0A            if (document.getElementById('scraper-ui')) document.getElementById('scraper-ui').remove()%3B%0A            this.box %3D document.createElement('div')%3B%0A            this.box.id %3D 'scraper-ui'%3B%0A            Object.assign(this.box.style%2C %7B%0A                position%3A 'fixed'%2C bottom%3A '20px'%2C right%3A '20px'%2C padding%3A '15px'%2C%0A                backgroundColor%3A '%231D2226'%2C color%3A 'white'%2C borderRadius%3A '8px'%2C%0A                boxShadow%3A '0 4px 12px rgba(0%2C0%2C0%2C0.3)'%2C zIndex%3A '9999'%2C%0A                fontFamily%3A 'system-ui%2C sans-serif'%2C fontSize%3A '13px'%2C minWidth%3A '260px'%2C%0A                border%3A '1px solid %23333'%0A            %7D)%3B%0A            this.box.innerHTML %3D %60%0A                <h3 style%3D"margin%3A0 0 10px 0%3B color%3A%2370B5F9%3B font-weight%3Abold%3B">ðŸš€ Scraper V8 (Infinity)<%2Fh3>%0A                <div style%3D"display%3Aflex%3B justify-content%3Aspace-between%3B margin-bottom%3A5px%3B">%0A                    <span id%3D"scraper-status">PrÃªt<%2Fspan>%0A                    <span id%3D"scraper-page" style%3D"color%3A%23aaa%3B">Page 1<%2Fspan>%0A                <%2Fdiv>%0A                <div style%3D"background%3A%23333%3B height%3A6px%3B border-radius%3A3px%3B overflow%3Ahidden%3B margin-bottom%3A10px%3B">%0A                    <div id%3D"scraper-progress" style%3D"width%3A0%25%3B height%3A100%25%3B background%3A%2370B5F9%3B transition%3Awidth 0.3s%3B"><%2Fdiv>%0A                <%2Fdiv>%0A                <div style%3D"font-size%3A11px%3B color%3A%23aaa%3B margin-bottom%3A10px%3B">%0A                    Cible %3A %24%7BCONFIG.resultsTarget%7D leads%0A                <%2Fdiv>%0A                <button id%3D"scraper-stop" style%3D"background%3A%23d11124%3B color%3Awhite%3B border%3Anone%3B padding%3A8px 10px%3B border-radius%3A4px%3B cursor%3Apointer%3B width%3A100%25%3B font-weight%3Abold%3B">ArrÃªter %26 TÃ©lÃ©charger<%2Fbutton>%0A            %60%3B%0A            document.body.appendChild(this.box)%3B%0A            %0A            document.getElementById('scraper-stop').addEventListener('click'%2C () %3D> %7B%0A                window.ScraperState.stopped %3D true%3B%0A                this.update("ArrÃªt demandÃ©..."%2C 0%2C true)%3B%0A            %7D)%3B%0A        %7D%2C%0A        update(text%2C percent%2C force %3D false) %7B%0A            const statusEl %3D document.getElementById('scraper-status')%3B%0A            const barEl %3D document.getElementById('scraper-progress')%3B%0A            if (statusEl) statusEl.innerText %3D text%3B%0A            if (barEl %26%26 percent !%3D%3D undefined) barEl.style.width %3D %60%24%7Bpercent%7D%25%60%3B%0A        %7D%2C%0A        updatePage(pageNum) %7B%0A            const pageEl %3D document.getElementById('scraper-page')%3B%0A            if(pageEl) pageEl.innerText %3D %60Page %24%7BpageNum%7D%60%3B%0A        %7D%2C%0A        close() %7B%0A            setTimeout(() %3D> this.box.remove()%2C 8000)%3B%0A        %7D%0A    %7D%3B%0A%0A    %2F* CORE LOGIC *%2F%0A    const Scraper %3D %7B%0A        profilesMap%3A new Map()%2C%0A        currentPageNum%3A 1%2C%0A%0A        findScrollContainer() %7B%0A            const candidates %3D %5B%0A                document.querySelector('%23search-results-container')%2C%0A                document.querySelector('.search-results-container')%2C%0A                document.querySelector('div%5Bclass*%3D"search-results"%5D')%2C%0A                document.querySelector('main')%2C%0A                document.body%0A            %5D%3B%0A            for (const el of candidates) %7B%0A                if (el %26%26 el.scrollHeight > el.clientHeight %26%26 el.scrollHeight > 500) %7B%0A                    return el%3B%0A                %7D%0A            %7D%0A            return window%3B%0A        %7D%2C%0A%0A        async scanCurrentPage() %7B%0A            const scroller %3D this.findScrollContainer()%3B%0A            let noChangeAttempts %3D 0%3B%0A            let totalScrolled %3D 0%3B%0A            %0A            if(scroller !%3D%3D window) scroller.scrollTop %3D 0%3B%0A            else window.scrollTo(0%2C0)%3B%0A            %0A            await wait(1000)%3B %0A            this.harvestVisibleItems()%3B %0A%0A            UI.update(%60Lecture Page %24%7Bthis.currentPageNum%7D...%60)%3B%0A%0A            while (!window.ScraperState.stopped) %7B%0A                if (this.profilesMap.size >%3D CONFIG.resultsTarget) return "TARGET_REACHED"%3B%0A%0A                const scrollAmount %3D random(CONFIG.scrollStepMin%2C CONFIG.scrollStepMax)%3B%0A                %0A                if (scroller %3D%3D%3D window) %7B%0A                    window.scrollBy(0%2C scrollAmount)%3B%0A                    totalScrolled %3D window.scrollY %2B window.innerHeight%3B%0A                %7D else %7B%0A                    scroller.scrollTop %2B%3D scrollAmount%3B%0A                    totalScrolled %3D scroller.scrollTop %2B scroller.clientHeight%3B%0A                %7D%0A%0A                await wait(random(CONFIG.minScrollTime%2C CONFIG.maxScrollTime))%3B%0A                this.harvestVisibleItems()%3B%0A%0A                const capturedCount %3D this.profilesMap.size%3B%0A                const progress %3D Math.min((capturedCount %2F CONFIG.resultsTarget) * 100%2C 95)%3B%0A                UI.update(%60%24%7BcapturedCount%7D leads%60%2C progress)%3B%0A%0A                let currentHeight %3D (scroller %3D%3D%3D window) %3F document.body.scrollHeight %3A scroller.scrollHeight%3B%0A                %0A                if (Math.abs(currentHeight - totalScrolled) < 80) %7B%0A                     noChangeAttempts%2B%2B%3B%0A                     if (noChangeAttempts > 4) %7B%0A                        this.harvestVisibleItems()%3B%0A                        return "PAGE_END"%3B%0A                     %7D%0A                %7D else %7B%0A                    noChangeAttempts %3D 0%3B%0A                %7D%0A            %7D%0A            return "STOPPED"%3B%0A        %7D%2C%0A%0A        async goToNextPage() %7B%0A            UI.update("Recherche page suivante...")%3B%0A            const nextBtn %3D document.querySelector('button.artdeco-pagination__button--next')%3B%0A            if (!nextBtn %7C%7C nextBtn.disabled) %7B%0A                console.warn("Bouton Suivant introuvable ou dÃ©sactivÃ©.")%3B%0A                return false%3B%0A            %7D%0A            nextBtn.scrollIntoView(%7Bbehavior%3A 'smooth'%2C block%3A 'center'%7D)%3B%0A            await wait(800)%3B%0A            nextBtn.click()%3B%0A            this.currentPageNum%2B%2B%3B%0A            UI.updatePage(this.currentPageNum)%3B%0A            UI.update("Chargement page suivante...")%3B%0A            await wait(CONFIG.nextPageWaitTime)%3B%0A            return true%3B%0A        %7D%2C%0A%0A        harvestVisibleItems() %7B%0A            const items %3D document.querySelectorAll('li.artdeco-list__item%2C div%5Bdata-x-search-result%5D%2C ol > li')%3B%0A            items.forEach(el %3D> %7B%0A                if(el.classList.contains('artdeco-list__item--loading')) return%3B%0A                const p %3D this.parseProfile(el)%3B%0A                if (p %26%26 p.url %26%26 !this.profilesMap.has(p.url)) %7B%0A                    this.profilesMap.set(p.url%2C p)%3B%0A                %7D%0A            %7D)%3B%0A        %7D%2C%0A%0A        parseProfile(element) %7B%0A            try %7B%0A                const linkEl %3D element.querySelector('a%5Bhref*%3D"%2Fsales%2Flead%2F"%5D%2C a%5Bhref*%3D"%2Fsales%2Fpeople%2F"%5D')%3B%0A                if (!linkEl) return null%3B%0A%0A                let rawUrl %3D linkEl.href.split('%3F')%5B0%5D.split('%2C')%5B0%5D%3B%0A                const cleanUrl %3D rawUrl.replace(%2F%5C%2Fsales%5C%2F(%3F%3Alead%7Cpeople)%5C%2F%2F%2C '%2Fin%2F')%3B%0A%0A                const profile %3D %7B%0A                    id%3A ''%2C firstName%3A ''%2C lastName%3A ''%2C fullName%3A ''%2C%0A                    title%3A ''%2C company%3A ''%2C location%3A ''%2C url%3A cleanUrl%0A                %7D%3B%0A%0A                const idMatch %3D cleanUrl.match(%2F%5C%2Fin%5C%2F(%5B%5E%2F%5D%2B)%2F)%3B%0A                if (idMatch) profile.id %3D idMatch%5B1%5D%3B%0A%0A                const nameEl %3D element.querySelector('%5Bdata-anonymize%3D"person-name"%5D')%3B%0A                if (nameEl) %7B%0A                    profile.fullName %3D nameEl.textContent.trim()%3B%0A                    const firstSpace %3D profile.fullName.indexOf(' ')%3B%0A                    if(firstSpace > 0) %7B%0A                        profile.firstName %3D profile.fullName.substring(0%2C firstSpace)%3B%0A                        profile.lastName %3D profile.fullName.substring(firstSpace %2B 1)%3B%0A                    %7D else %7B%0A                        profile.firstName %3D profile.fullName%3B%0A                    %7D%0A                %7D%0A%0A                const infoBlock %3D element.querySelector('.artdeco-entity-lockup__content')%3B%0A                if (infoBlock) %7B%0A                    const locEl %3D element.querySelector('%5Bdata-anonymize%3D"location"%5D')%3B%0A                    if (locEl) %7B%0A                        profile.location %3D locEl.textContent.trim()%3B%0A                    %7D else %7B%0A                        const captions %3D Array.from(element.querySelectorAll('.artdeco-entity-lockup__caption'))%3B%0A                        const locCand %3D captions.reverse().find(el %3D> !%2F%5E%5C%5Cd%2F.test(el.textContent.trim()))%3B %0A                        if (locCand) profile.location %3D locCand.textContent.trim()%3B%0A                    %7D%0A%0A                    const subtitleEl %3D element.querySelector('.artdeco-entity-lockup__subtitle')%3B%0A                    if (subtitleEl) %7B%0A                        let fullSubtitle %3D subtitleEl.textContent.trim().replace(%2F%5C%5Cs%2B%2Fg%2C ' ')%3B%0A                        const companyLink %3D subtitleEl.querySelector('a%5Bhref*%3D"%2Fcompany%2F"%5D%2C a%5Bhref*%3D"%2Fsales%2Fcompany%2F"%5D')%3B%0A                        %0A                        if (companyLink) %7B%0A                            profile.company %3D companyLink.textContent.trim()%3B%0A                            const companyIndex %3D fullSubtitle.lastIndexOf(profile.company)%3B%0A                            if (companyIndex > 0) %7B%0A                                profile.title %3D fullSubtitle.substring(0%2C companyIndex)%0A                                    .replace(%2F(%3F%3A%5C%5Cs%2Bat%7C%5C%5Cs%2Bchez%7C%5C%5Cs%2B%40%7C%5C%5Cs%2B%5C%5C%7C%7C%5C%5Cs%2Bâ€¢%7C%5C%5Cs%2B-%7C%5C%5Cs%2Bâ€“)%24%2Fi%2C '').trim()%3B%0A                            %7D else %7B%0A                                profile.title %3D fullSubtitle%3B %0A                            %7D%0A                        %7D else %7B%0A                            const splitRegex %3D %2F%5C%5Cs%2B(%3F%3Aat%7Cchez%7C%40%7C%5C%5C%7C%7Câ€¢%7C-%7Câ€“)%5C%5Cs%2B(%3F%3D%5BA-Z0-9%5D)%2F%3B %0A                            const parts %3D fullSubtitle.split(splitRegex)%3B%0A                            if (parts.length > 1) %7B%0A                                profile.company %3D parts%5Bparts.length - 1%5D.trim()%3B%0A                                profile.title %3D parts.slice(0%2C parts.length - 1).join(' %7C ').trim()%3B%0A                            %7D else %7B%0A                                profile.title %3D fullSubtitle%3B%0A                            %7D%0A                        %7D%0A                    %7D%0A                %7D%0A                %0A                if (profile.company %3D%3D%3D profile.location) profile.company %3D ''%3B%0A                if (profile.company.length > 80) profile.company %3D ''%3B%0A%0A                return profile%3B%0A            %7D catch (e) %7B return null%3B %7D%0A        %7D%2C%0A%0A        getProfilesArray() %7B%0A            return Array.from(this.profilesMap.values())%3B%0A        %7D%2C%0A%0A        toCSV(profiles) %7B%0A            const headers %3D %5B'Profile ID'%2C 'First Name'%2C 'Last Name'%2C 'Full Name'%2C 'Title'%2C 'Company'%2C 'Location'%2C 'URL'%5D%3B%0A            const rows %3D profiles.map(p %3D> %7B%0A                return %5Bp.id%2C p.firstName%2C p.lastName%2C p.fullName%2C p.title%2C p.company%2C p.location%2C p.url%5D%0A                    .map(val %3D> %60"%24%7BString(val %7C%7C '').replace(%2F"%2Fg%2C '""')%7D"%60)%0A                    .join('%2C')%3B%0A            %7D)%3B%0A            return %60%5C%5CuFEFF%24%7Bheaders.join('%2C')%7D%5C%5Cn%24%7Brows.join('%5C%5Cn')%7D%60%3B%0A        %7D%2C%0A%0A        download(csvContent) %7B%0A            const blob %3D new Blob(%5BcsvContent%5D%2C %7B type%3A 'text%2Fcsv%3Bcharset%3Dutf-8%3B' %7D)%3B%0A            const link %3D document.createElement('a')%3B%0A            const url %3D URL.createObjectURL(blob)%3B%0A            link.setAttribute('href'%2C url)%3B%0A            link.setAttribute('download'%2C %60SalesNav_Leads_V8_%24%7Bnew Date().toISOString().slice(0%2C10)%7D.csv%60)%3B%0A            document.body.appendChild(link)%3B%0A            link.click()%3B%0A            document.body.removeChild(link)%3B%0A        %7D%0A    %7D%3B%0A%0A    %2F* MAIN RUNNER *%2F%0A    async function startScraping() %7B%0A        UI.init()%3B%0A        window.ScraperState %3D %7B stopped%3A false %7D%3B%0A        Scraper.profilesMap.clear()%3B%0A        Scraper.currentPageNum %3D 1%3B%0A%0A        try %7B%0A            while (!window.ScraperState.stopped) %7B%0A                const status %3D await Scraper.scanCurrentPage()%3B%0A                %0A                if (status %3D%3D%3D "STOPPED") break%3B%0A                if (status %3D%3D%3D "TARGET_REACHED") %7B%0A                    UI.update("ðŸŽ¯ Objectif atteint !"%2C 100)%3B%0A                    break%3B%0A                %7D%0A%0A                if (Scraper.profilesMap.size < CONFIG.resultsTarget) %7B%0A                    const hasNext %3D await Scraper.goToNextPage()%3B%0A                    if (!hasNext) %7B%0A                        UI.update("â¹ Fin de la liste."%2C 100)%3B%0A                        break%3B%0A                    %7D%0A                %7D else %7B%0A                    break%3B%0A                %7D%0A            %7D%0A%0A            const profiles %3D Scraper.getProfilesArray()%3B%0A            UI.update(%60TerminÃ© %3A %24%7Bprofiles.length%7D leads.%60%2C 100)%3B%0A            %0A            if (profiles.length > 0) %7B%0A                const csv %3D Scraper.toCSV(profiles)%3B%0A                Scraper.download(csv)%3B%0A            %7D else %7B%0A                UI.update("âŒ Aucun profil trouvÃ©."%2C 0)%3B%0A            %7D%0A%0A        %7D catch (err) %7B%0A            console.error(err)%3B%0A            UI.update("âš %EF%B8%8F Erreur critique. Sauvegarde..."%2C 100)%3B%0A            const profiles %3D Scraper.getProfilesArray()%3B%0A            if (profiles.length > 0) Scraper.download(Scraper.toCSV(profiles))%3B%0A        %7D%0A    %7D%0A%0A    %2F* AUTO START *%2F%0A    startScraping()%3B %0A%7D)()%3B%0A    
